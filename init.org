* init.el

** 使い方

   C-c C-v t でinit.elを生成

- [[http://orgmode.org/elpa.html][Org Emacs lisp Package Archive]]

** ヘッダコメント

#+begin_src emacs-lisp :tangle init.el
;; init.el --- packageの初期化とorgファイルからのel生成
;;
;; This file loads Org-mode and then loads the rest of our Emacs initialization from Emacs lisp
;; embedded in literate Org-mode files.
#+end_src
   
** パッケージの初期設定
  - パッケージをインストールするディレクトリの設定
  - ダウンロードするリポジトリの設定
  - 必要に応じてアーカイブ
** TODO ここではorgだけを設定するようにしたい
#+begin_src emacs-lisp :tangle init.el
(require 'package)
(setq package-archives '(("org" .
			  "http://orgmode.org/elpa/")
			 ("gnu" .
			  "http://elpa.gnu.org/packages/")
			 ("marmalade" .
			  "http://marmalade-repo.org/packages/")
			 ("melpa" .
			  "http://melpa.milkbox.net/packages/")
			 ))
  
(package-initialize)
(when (not package-archive-contents)
  (package-refresh-contents))

;; Load up Org Mode and (now included) Org Babel for elisp embedded in Org Mode files
(dolist (package '(org org-plus-contrib))
  (when (not (package-installed-p package))
    (package-install package)))

(require 'org-install)
(require 'ob-tangle)

;; load up all literate org-mode files in this directory
(setq dotfiles-dir
      (concat
       (file-name-directory ; ファイル名のデレクトリ部分
	(or
	 (buffer-file-name)
	 load-file-name))
       "org/"
       ))

(message dotfiles-dir)

(mapc #'org-babel-load-file
      (directory-files dotfiles-dir t "\\.org$"))

;;; init.el ends here
#+end_src
